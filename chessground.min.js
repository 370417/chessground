!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.Chessground=e()}}(function(){return function e(t,n,r){function o(a,l){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!l&&u)return u(a,!0);if(i)return i(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var d=n[a]={exports:{}};t[a][0].call(d.exports,function(e){var n=t[a][1][e];return o(n?n:e)},d,d.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){"use strict";function r(e,t,n){if(e.ns="http://www.w3.org/2000/svg","foreignObject"!==n&&void 0!==t)for(var o=0;o<t.length;++o){var i=t[o].data;void 0!==i&&r(i,t[o].children,t[o].sel)}}function o(e,t,n){var o,l,u,s={};if(void 0!==n?(s=t,a.array(n)?o=n:a.primitive(n)?l=n:n&&n.sel&&(o=[n])):void 0!==t&&(a.array(t)?o=t:a.primitive(t)?l=t:t&&t.sel?o=[t]:s=t),a.array(o))for(u=0;u<o.length;++u)a.primitive(o[u])&&(o[u]=i.vnode(void 0,void 0,void 0,o[u]));return"s"!==e[0]||"v"!==e[1]||"g"!==e[2]||3!==e.length&&"."!==e[3]&&"#"!==e[3]||r(s,o,e),i.vnode(e,s,o,l,void 0)}var i=e("./vnode"),a=e("./is");n.h=o,Object.defineProperty(n,"__esModule",{value:!0}),n.default=o},{"./is":3,"./vnode":8}],2:[function(e,t,n){"use strict";function r(e){return document.createElement(e)}function o(e,t){return document.createElementNS(e,t)}function i(e){return document.createTextNode(e)}function a(e){return document.createComment(e)}function l(e,t,n){e.insertBefore(t,n)}function u(e,t){e.removeChild(t)}function s(e,t){e.appendChild(t)}function d(e){return e.parentNode}function c(e){return e.nextSibling}function f(e){return e.tagName}function p(e,t){e.textContent=t}function v(e){return e.textContent}function h(e){return 1===e.nodeType}function m(e){return 3===e.nodeType}function b(e){return 8===e.nodeType}n.htmlDomApi={createElement:r,createElementNS:o,createTextNode:i,createComment:a,insertBefore:l,removeChild:u,appendChild:s,parentNode:d,nextSibling:c,tagName:f,setTextContent:p,getTextContent:v,isElement:h,isText:m,isComment:b},Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.htmlDomApi},{}],3:[function(e,t,n){"use strict";function r(e){return"string"==typeof e||"number"==typeof e}n.array=Array.isArray,n.primitive=r},{}],4:[function(e,t,n){"use strict";function r(e,t){var n,r,i,l,u=t.elm,s=e.data.attrs,d=t.data.attrs;if((s||d)&&s!==d){s=s||{},d=d||{};for(n in d)r=d[n],i=s[n],i!==r&&(!r&&a[n]?u.removeAttribute(n):(l=n.split(":"),l.length>1&&o.hasOwnProperty(l[0])?u.setAttributeNS(o[l[0]],n,r):u.setAttribute(n,r)));for(n in s)n in d||u.removeAttribute(n)}}for(var o={xlink:"http://www.w3.org/1999/xlink"},i=["allowfullscreen","async","autofocus","autoplay","checked","compact","controls","declare","default","defaultchecked","defaultmuted","defaultselected","defer","disabled","draggable","enabled","formnovalidate","hidden","indeterminate","inert","ismap","itemscope","loop","multiple","muted","nohref","noresize","noshade","novalidate","nowrap","open","pauseonexit","readonly","required","reversed","scoped","seamless","selected","sortable","spellcheck","translate","truespeed","typemustmatch","visible"],a=Object.create(null),l=0,u=i.length;l<u;l++)a[i[l]]=!0;n.attributesModule={create:r,update:r},Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.attributesModule},{}],5:[function(e,t,n){"use strict";function r(e,t){var n,r,o=t.elm,i=e.data.class,a=t.data.class;if((i||a)&&i!==a){i=i||{},a=a||{};for(r in i)a[r]||o.classList.remove(r);for(r in a)n=a[r],n!==i[r]&&o.classList[n?"add":"remove"](r)}}n.classModule={create:r,update:r},Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.classModule},{}],6:[function(e,t,n){"use strict";function r(e){return void 0===e}function o(e){return void 0!==e}function i(e,t){return e.key===t.key&&e.sel===t.sel}function a(e){return void 0!==e.sel}function l(e,t,n){var r,o,i,a={};for(r=t;r<=n;++r)i=e[r],null!=i&&(o=i.key,void 0!==o&&(a[o]=r));return a}function u(e,t){function n(e){var t=e.id?"#"+e.id:"",n=e.className?"."+e.className.split(" ").join("."):"";return s.default(C.tagName(e).toLowerCase()+t+n,{},[],void 0,e)}function u(e,t){return function(){if(0===--t){var n=C.parentNode(e);C.removeChild(n,e)}}}function v(e,t){var n,i=e.data;void 0!==i&&o(n=i.hook)&&o(n=n.init)&&(n(e),i=e.data);var a=e.children,l=e.sel;if("!"===l)r(e.text)&&(e.text=""),e.elm=C.createComment(e.text);else if(void 0!==l){var u=l.indexOf("#"),s=l.indexOf(".",u),c=u>0?u:l.length,p=s>0?s:l.length,h=u!==-1||s!==-1?l.slice(0,Math.min(c,p)):l,m=e.elm=o(i)&&o(n=i.ns)?C.createElementNS(n,h):C.createElement(h);if(c<p&&(m.id=l.slice(c+1,p)),s>0&&(m.className=l.slice(p+1).replace(/\./g," ")),d.array(a))for(n=0;n<a.length;++n){var b=a[n];null!=b&&C.appendChild(m,v(b,t))}else d.primitive(e.text)&&C.appendChild(m,C.createTextNode(e.text));for(n=0;n<x.create.length;++n)x.create[n](f,e);n=e.data.hook,o(n)&&(n.create&&n.create(f,e),n.insert&&t.push(e))}else e.elm=C.createTextNode(e.text);return e.elm}function h(e,t,n,r,o,i){for(;r<=o;++r){var a=n[r];null!=a&&C.insertBefore(e,v(a,i),t)}}function m(e){var t,n,r=e.data;if(void 0!==r){for(o(t=r.hook)&&o(t=t.destroy)&&t(e),t=0;t<x.destroy.length;++t)x.destroy[t](e);if(void 0!==e.children)for(n=0;n<e.children.length;++n)t=e.children[n],null!=t&&"string"!=typeof t&&m(t)}}function b(e,t,n,r){for(;n<=r;++n){var i=void 0,a=void 0,l=void 0,s=t[n];if(null!=s)if(o(s.sel)){for(m(s),a=x.remove.length+1,l=u(s.elm,a),i=0;i<x.remove.length;++i)x.remove[i](s,l);o(i=s.data)&&o(i=i.hook)&&o(i=i.remove)?i(s,l):l()}else C.removeChild(e,s.elm)}}function y(e,t,n,o){for(var a,u,s,d,c=0,f=0,p=t.length-1,m=t[0],y=t[p],k=n.length-1,w=n[0],x=n[k];c<=p&&f<=k;)null==m?m=t[++c]:null==y?y=t[--p]:null==w?w=n[++f]:null==x?x=n[--k]:i(m,w)?(g(m,w,o),m=t[++c],w=n[++f]):i(y,x)?(g(y,x,o),y=t[--p],x=n[--k]):i(m,x)?(g(m,x,o),C.insertBefore(e,m.elm,C.nextSibling(y.elm)),m=t[++c],x=n[--k]):i(y,w)?(g(y,w,o),C.insertBefore(e,y.elm,m.elm),y=t[--p],w=n[++f]):(void 0===a&&(a=l(t,c,p)),u=a[w.key],r(u)?(C.insertBefore(e,v(w,o),m.elm),w=n[++f]):(s=t[u],s.sel!==w.sel?C.insertBefore(e,v(w,o),m.elm):(g(s,w,o),t[u]=void 0,C.insertBefore(e,s.elm,m.elm)),w=n[++f]));c>p?(d=null==n[k+1]?null:n[k+1].elm,h(e,d,n,f,k,o)):f>k&&b(e,t,c,p)}function g(e,t,n){var i,a;o(i=t.data)&&o(a=i.hook)&&o(i=a.prepatch)&&i(e,t);var l=t.elm=e.elm,u=e.children,s=t.children;if(e!==t){if(void 0!==t.data){for(i=0;i<x.update.length;++i)x.update[i](e,t);i=t.data.hook,o(i)&&o(i=i.update)&&i(e,t)}r(t.text)?o(u)&&o(s)?u!==s&&y(l,u,s,n):o(s)?(o(e.text)&&C.setTextContent(l,""),h(l,null,s,0,s.length-1,n)):o(u)?b(l,u,0,u.length-1):o(e.text)&&C.setTextContent(l,""):e.text!==t.text&&C.setTextContent(l,t.text),o(a)&&o(i=a.postpatch)&&i(e,t)}}var k,w,x={},C=void 0!==t?t:c.default;for(k=0;k<p.length;++k)for(x[p[k]]=[],w=0;w<e.length;++w){var T=e[w][p[k]];void 0!==T&&x[p[k]].push(T)}return function(e,t){var r,o,l,u=[];for(r=0;r<x.pre.length;++r)x.pre[r]();for(a(e)||(e=n(e)),i(e,t)?g(e,t,u):(o=e.elm,l=C.parentNode(o),v(t,u),null!==l&&(C.insertBefore(l,t.elm,C.nextSibling(o)),b(l,[e],0,0))),r=0;r<u.length;++r)u[r].data.hook.insert(u[r]);for(r=0;r<x.post.length;++r)x.post[r]();return t}}var s=e("./vnode"),d=e("./is"),c=e("./htmldomapi"),f=s.default("",{},[],void 0,void 0),p=["create","update","remove","destroy","pre","post"],v=e("./h");n.h=v.h;var h=e("./thunk");n.thunk=h.thunk,n.init=u},{"./h":1,"./htmldomapi":2,"./is":3,"./thunk":7,"./vnode":8}],7:[function(e,t,n){"use strict";function r(e,t){t.elm=e.elm,e.data.fn=t.data.fn,e.data.args=t.data.args,t.data=e.data,t.children=e.children,t.text=e.text,t.elm=e.elm}function o(e){var t=e.data,n=t.fn.apply(void 0,t.args);r(n,e)}function i(e,t){var n,o=e.data,i=t.data,a=o.args,l=i.args;for(o.fn===i.fn&&a.length===l.length||r(i.fn.apply(void 0,l),t),n=0;n<l.length;++n)if(a[n]!==l[n])return void r(i.fn.apply(void 0,l),t);r(e,t)}var a=e("./h");n.thunk=function(e,t,n,r){return void 0===r&&(r=n,n=t,t=void 0),a.h(e,{key:t,hook:{init:o,prepatch:i},fn:n,args:r})},Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.thunk},{"./h":1}],8:[function(e,t,n){"use strict";function r(e,t,n,r,o){var i=void 0===t?void 0:t.key;return{sel:e,data:t,children:n,text:r,elm:o,key:i}}n.vnode=r,Object.defineProperty(n,"__esModule",{value:!0}),n.default=r},{}],9:[function(e,t,n){"use strict";function r(e,t){t&&(t.movable&&t.movable.dests&&(e.movable.dests=void 0),o(e,t),t.fen&&(e.pieces=a.read(t.fen),e.check=t.check,e.drawable.shapes=[]),e.movable.dropped=void 0,(!e.animation.duration||e.animation.duration<40)&&(e.animation.enabled=!1))}function o(e,t){for(var n in t)e[n]=i(e[n])&&i(t[n])?o(e[n],t[n]):t[n]}function i(e){return"object"==typeof e}var a=e("./fen");Object.defineProperty(n,"__esModule",{value:!0}),n.default=r},{"./fen":11}],10:[function(e,t,n){"use strict";function r(){return{pieces:o.read(o.initial),orientation:"white",turnColor:"white",coordinates:!0,autoCastle:!1,viewOnly:!1,disableContextMenu:!1,resizable:!0,pieceKey:!1,highlight:{lastMove:!0,check:!0,dragOver:!0},animation:{enabled:!0,duration:200},movable:{free:!0,color:"both",dropOff:"revert",showDests:!0,events:{},rookCastle:!0},premovable:{enabled:!0,showDests:!0,castle:!0,events:{}},predroppable:{enabled:!1,events:{}},draggable:{enabled:!0,distance:3,autoDistance:!0,centerPiece:!0,showGhost:!0},selectable:{enabled:!0},stats:{dragged:!("ontouchstart"in window)},events:{},drawable:{enabled:!1,eraseOnClick:!0,shapes:[],autoShapes:[],brushes:{green:{key:"g",color:"#15781B",opacity:1,lineWidth:10},red:{key:"r",color:"#882020",opacity:1,lineWidth:10},blue:{key:"b",color:"#003088",opacity:1,lineWidth:10},yellow:{key:"y",color:"#e68f00",opacity:1,lineWidth:10},paleBlue:{key:"pb",color:"#003088",opacity:.4,lineWidth:15},paleGreen:{key:"pg",color:"#15781B",opacity:.4,lineWidth:15},paleRed:{key:"pr",color:"#882020",opacity:.4,lineWidth:15},paleGrey:{key:"pgr",color:"#4a4a4a",opacity:.35,lineWidth:15}},pieces:{baseUrl:"https://lichess1.org/assets/piece/cburnett/"}}}}var o=e("./fen");Object.defineProperty(n,"__esModule",{value:!0}),n.default=r},{"./fen":11}],11:[function(e,t,n){"use strict";function r(e){"start"===e&&(e=n.initial);var t,r,o,l={};return e.replace(/ .+$/,"").replace(/~/g,"").split("/").forEach(function(e,n){t=0,e.split("").forEach(function(e){r=parseInt(e),r?t+=r:(++t,o=e.toLowerCase(),l[i.pos2key([t,8-n])]={role:a[o],color:e===o?"black":"white"})})}),l}function o(e){var t,n;return[8,7,6,5,4,3,2].reduce(function(e,t){return e.replace(new RegExp(Array(t+1).join("1"),"g"),t)},i.invRanks.map(function(r){return i.ranks.map(function(o){return t=e[i.pos2key([o,r])],t?(n=l[t.role],"white"===t.color?n.toUpperCase():n):"1"}).join("")}).join("/"))}var i=e("./util");n.initial="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR";var a={p:"pawn",r:"rook",n:"knight",b:"bishop",q:"queen",k:"king"},l={pawn:"p",rook:"r",knight:"n",bishop:"b",queen:"q",king:"k"};n.read=r,n.write=o},{"./util":13}],12:[function(e,t,n){"use strict";function r(e,t){function n(){r=s(r,u(o))}var r,o,l,u,d=a.default();return i.default(d,t),o=l(d,n),r=s(e,u(o)),{}}var o=e("snabbdom"),i=e("./configure"),a=e("./defaults"),l=e("snabbdom/modules/class"),u=e("snabbdom/modules/attributes"),s=o.init([l.default,u.default]);Object.defineProperty(n,"__esModule",{value:!0}),n.default=r},{"./configure":9,"./defaults":10,snabbdom:6,"snabbdom/modules/attributes":4,"snabbdom/modules/class":5}],13:[function(e,t,n){"use strict";function r(e){return n.files[e[0]-1]+e[1]}function o(e){return[n.fileNumbers[e[0]],parseInt(e[1])]}function i(e){return n.files[8-n.fileNumbers[e[0]]]+(9-parseInt(e[1]))}function a(e){return"white"===e?"black":"white"}function l(e,t){return e&&e.indexOf(t)!==-1}function u(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2))}function s(){return"transform"in document.body.style?"transform":"webkitTransform"in document.body.style?"webkitTransform":"mozTransform"in document.body.style?"mozTransform":"oTransform"in document.body.style?"oTransform":"msTransform"}function d(){return g||(g=s()),g}function c(){return void 0===k&&(k=window.navigator.userAgent.indexOf("Trident/")>-1),k}function f(e){return"translate("+e[0]+"px,"+e[1]+"px)"}function p(e){return e.clientX||0===e.clientX?[e.clientX,e.clientY]:e.touches&&e.targetTouches[0]?[e.targetTouches[0].clientX,e.targetTouches[0].clientY]:void 0}function v(e){return 1===e.buttons||1===e.button}function h(e){return 2===e.buttons||2===e.button}n.files=["a","b","c","d","e","f","g","h"],n.ranks=[1,2,3,4,5,6,7,8],n.invRanks=[8,7,6,5,4,3,2,1],n.fileNumbers={a:1,b:2,c:3,d:4,e:5,f:6,g:7,h:8},n.pos2key=r,n.key2pos=o,n.invertKey=i,n.allPos=[],n.allKeys=[];for(var m=8;m>0;--m)for(var b=1;b<9;++b){var y=[b,m];n.allPos.push(y),n.allKeys.push(r(y))}n.invKeys=n.allKeys.slice(0).reverse(),n.opposite=a,n.containsX=l,n.distance=u;var g;n.transformProp=d;var k;n.isTrident=c,n.translate=f,n.eventPosition=p,n.isLeftButton=v,n.isRightButton=h,n.raf=(window.requestAnimationFrame||window.setTimeout).bind(window)},{}]},{},[12])(12)});